(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86cd6b4c"],{2782:function(e,t,n){"use strict";n.r(t);n("e7e5");var r=n("d399"),c=n("1da1"),a=(n("a9e3"),n("96cf"),n("7a23")),u=n("3de1"),o=n("cc7f"),i=n("6779"),b=n("bae1"),l=n("214b"),s=n("f7fe"),p=n.n(s),d=n("453f"),f=function(e){return Object(a["pushScopeId"])("data-v-6506e3fa"),e=e(),Object(a["popScopeId"])(),e},j={class:"container py-3"},O=f((function(){return Object(a["createElementVNode"])("div",{class:"font16 font-bold text-center mb-3 text-primary-0"},"-- 返奖配置 --",-1)})),m={class:"c-input-group c-input-group-box c-input-group-border"},v=f((function(){return Object(a["createElementVNode"])("div",null,"等级",-1)})),k={class:"c-input-group c-input-group-box c-input-group-border"},x=f((function(){return Object(a["createElementVNode"])("div",{class:"mt-2"},"返奖数量",-1)})),w={class:"c-input-group c-input-group-box c-input-group-border"},g={class:"flex flex-between mt-2"},h=["disabled"],N={setup:function(e){var t=Object(a["inject"])("chainInfo"),n=Object(a["ref"])(!1),s=Object(a["reactive"])({token:"",level:0,amount:""}),f=Object(a["ref"])({isApprove:!1,balance:0,decimal:0,symbol:""}),N=p()((function(){y()}),1e3),y=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(l["b"])(s.token)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d["a"])(t,s.token,t.account,b["a"].NodeAddress);case 4:f.value=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["a"])(t,s.token,b["a"].NodeAddress);case 3:return n=e.sent,Object(r["a"])("授权中..."),e.next=7,n.wait();case 7:return e.next=9,y();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Object(r["a"])(e.t0.data.message||e.t0.data||e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(u["b"])(s.level)&&!(Number(s.level)<0)){e.next=3;break}return Object(r["a"])("请输入有效等级"),e.abrupt("return");case 3:if(Object(u["b"])(s.amount)&&!(Number(s.amount)<0)){e.next=6;break}return Object(r["a"])("请输入有效数量"),e.abrupt("return");case 6:if(!(Number(f.value.balance)<Number(s.amount))){e.next=9;break}return Object(r["a"])("余额不足"),e.abrupt("return");case 9:return e.prev=9,e.next=12,Object(o["c"])(t,s.token,s.level,i["utils"].parseUnits(s.amount,f.value.decimal));case 12:return n=e.sent,Object(r["a"])("交易已提交, 等待链上确认"),s.amount="",e.next=17,n.wait();case 17:Object(r["a"])("操作成功"),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](9),Object(r["a"])(e.t0.data.message||e.t0.data||e.t0);case 23:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(){return e.apply(this,arguments)}}();return Object(a["watchEffect"])((function(){})),function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",j,[Object(a["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(t){return e.$router.back()})},"<<返回"),O,Object(a["createElementVNode"])("div",null,"Token ("+Object(a["toDisplayString"])(f.value["symbol"]||"--")+")",1),Object(a["createElementVNode"])("div",m,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"px-2","onUpdate:modelValue":t[1]||(t[1]=function(e){return Object(a["unref"])(s).token=e}),onInput:t[2]||(t[2]=function(){return Object(a["unref"])(N)&&Object(a["unref"])(N).apply(void 0,arguments)})},null,544),[[a["vModelText"],Object(a["unref"])(s).token]])]),v,Object(a["createElementVNode"])("div",k,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"px-2","onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(a["unref"])(s).level=e})},null,512),[[a["vModelText"],Object(a["unref"])(s).level]])]),x,Object(a["createElementVNode"])("div",w,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{class:"px-2","onUpdate:modelValue":t[4]||(t[4]=function(e){return Object(a["unref"])(s).amount=e})},null,512),[[a["vModelText"],Object(a["unref"])(s).amount]])]),Object(a["createElementVNode"])("div",g,[f.value["isApprove"]?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,class:"primary-btn primary-btn-blue w-100",onClick:V},"确认设置")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,disabled:!Object(a["unref"])(s).token||n.value,class:"primary-btn primary-btn-blue w-100",onClick:E},"授权 "+Object(a["toDisplayString"])(f.value["symbol"]),9,h))])])}}},y=(n("5dcb"),n("6b0d")),E=n.n(y);const V=E()(N,[["__scopeId","data-v-6506e3fa"]]);t["default"]=V},5223:function(e,t,n){},"5dcb":function(e,t,n){"use strict";n("5223")}}]);